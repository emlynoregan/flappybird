<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flappy Bird - Web Game</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="game-container">
        <div id="game-canvas"></div>
    </div>
    
    <!-- Phaser.js CDN - Multiple fallback sources -->
    <script>
        // Try multiple CDN sources in order
        const phaserCDNs = [
            'https://cdn.jsdelivr.net/npm/phaser@3.70.0/dist/phaser.min.js',
            'https://unpkg.com/phaser@3.70.0/dist/phaser.min.js',
            'https://cdnjs.cloudflare.com/ajax/libs/phaser/3.70.0/phaser.min.js'
        ];
        
        let cdnIndex = 0;
        
        function loadGameScripts() {
            // Load all game scripts in order after Phaser is loaded
            const scripts = [
                'js/config.js',
                'js/objects/Bird.js',
                'js/objects/PipeGroup.js',
                'js/scenes/BootScene.js',
                'js/scenes/MenuScene.js',
                'js/scenes/GameScene.js',
                'js/scenes/GameOverScene.js',
                'js/game.js'
            ];
            
            let scriptIndex = 0;
            
            function loadNextScript() {
                if (scriptIndex >= scripts.length) {
                    console.log('üéÆ All game scripts loaded successfully!');
                    return;
                }
                
                const script = document.createElement('script');
                script.src = scripts[scriptIndex];
                script.onload = function() {
                    console.log('üìú Loaded:', scripts[scriptIndex]);
                    scriptIndex++;
                    loadNextScript();
                };
                script.onerror = function() {
                    console.error('‚ùå Failed to load script:', scripts[scriptIndex]);
                    scriptIndex++;
                    loadNextScript();
                };
                document.head.appendChild(script);
            }
            
            loadNextScript();
        }
        
        function loadPhaser() {
            if (cdnIndex >= phaserCDNs.length) {
                document.body.innerHTML = '<div style="color: red; text-align: center; margin-top: 50px; font-family: Arial; padding: 20px;">‚ùå Error: Could not load Phaser.js from any CDN.<br><br>Please check your internet connection and try:<br>1. Refreshing the page<br>2. Disabling ad blockers<br>3. Checking firewall settings</div>';
                return;
            }
            
            const script = document.createElement('script');
            script.src = phaserCDNs[cdnIndex];
            script.onload = function() {
                console.log('‚úÖ Phaser.js loaded successfully from:', phaserCDNs[cdnIndex]);
                console.log('üì¶ Phaser Version:', typeof Phaser !== 'undefined' ? Phaser.VERSION : 'Unknown');
                
                // Now load all game scripts in sequence
                loadGameScripts();
            };
            script.onerror = function() {
                console.log('‚ùå Failed to load from:', phaserCDNs[cdnIndex]);
                cdnIndex++;
                loadPhaser();
            };
            document.head.appendChild(script);
        }
        
        loadPhaser();
    </script>

    
    <!-- Game scripts will be loaded dynamically after Phaser loads -->
</body>
</html> 